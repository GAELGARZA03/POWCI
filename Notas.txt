base de datos

bd_unifut (asi se llama)

TABLAS

CREATE TABLE usuarios (
  id_usuario INT AUTO_INCREMENT PRIMARY KEY,
  nombre_completo VARCHAR(100) NOT NULL,
  fecha_nacimiento DATE NOT NULL,
  foto_perfil VARCHAR(255) DEFAULT 'default.jpg',
  genero ENUM('Masculino', 'Femenino', 'Otro') NOT NULL,
  pais_nacimiento VARCHAR(100) NOT NULL,
  nacionalidad VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  contrasena VARCHAR(255) NOT NULL,
  fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

//hay que actualizar la tabla despues de crearla con esto://
ALTER TABLE usuarios
ADD COLUMN rol ENUM('admin', 'usuario') DEFAULT 'usuario' AFTER password,
ADD COLUMN estado ENUM('activo', 'inactivo') DEFAULT 'activo' AFTER rol;


CREATE TABLE publicaciones (
  id_publicacion INT AUTO_INCREMENT PRIMARY KEY,
  id_usuario INT NOT NULL,
  categoria VARCHAR(100) DEFAULT 'General',
  titulo VARCHAR(255) NOT NULL,
  mundial VARCHAR(100),
  contenido TEXT,
  tipo_contenido ENUM('texto', 'imagen', 'video') DEFAULT 'texto',
  fecha_publicacion DATETIME DEFAULT CURRENT_TIMESTAMP,
  fecha_aprobacion DATETIME NULL,
  
  -- Relación con la tabla usuarios
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
    ON DELETE CASCADE
    ON UPDATE CASCADE
);

//tambien actualice esta tabla://
ALTER TABLE publicaciones
ADD COLUMN id_mundial INT AFTER id_usuario,
ADD COLUMN estado_publicacion ENUM('pendiente', 'aprobada', 'rechazada') DEFAULT 'pendiente' AFTER fecha_hora_aprobacion,
ADD FOREIGN KEY (id_mundial) REFERENCES mundiales(id_mundial)
  ON DELETE SET NULL
  ON UPDATE CASCADE;


CREATE TABLE comentarios (
  id_comentario INT AUTO_INCREMENT PRIMARY KEY,
  id_publicacion INT NOT NULL,
  id_usuario INT NOT NULL,
  contenido TEXT NOT NULL,
  fecha_comentario DATETIME DEFAULT CURRENT_TIMESTAMP,

  FOREIGN KEY (id_publicacion) REFERENCES publicaciones(id_publicacion)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
    ON DELETE CASCADE
    ON UPDATE CASCADE
);

CREATE TABLE reacciones (
  id_reaccion INT AUTO_INCREMENT PRIMARY KEY,
  id_publicacion INT NOT NULL,
  id_usuario INT NOT NULL,
  tipo ENUM('like', 'dislike') NOT NULL,
  fecha_reaccion DATETIME DEFAULT CURRENT_TIMESTAMP,

  FOREIGN KEY (id_publicacion) REFERENCES publicaciones(id_publicacion)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  
  UNIQUE (id_publicacion, id_usuario) -- evita que un usuario dé like/dislike más de una vez a la misma publicación
);


CREATE TABLE vistas (
  id_vista INT AUTO_INCREMENT PRIMARY KEY,
  id_publicacion INT NOT NULL,
  id_usuario INT NULL, -- puede ser NULL si la vista es anónima
  fecha_vista DATETIME DEFAULT CURRENT_TIMESTAMP,

  FOREIGN KEY (id_publicacion) REFERENCES publicaciones(id_publicacion)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
    ON DELETE SET NULL
    ON UPDATE CASCADE
);


CREATE TABLE mundiales (
  id_mundial INT AUTO_INCREMENT PRIMARY KEY,
  anio YEAR NOT NULL,
  sede VARCHAR(100) NOT NULL,
  campeon VARCHAR(100),
  descripcion TEXT,
  fecha_creacion DATETIME DEFAULT CURRENT_TIMESTAMP
);


esas son las tablas que tengo hasta ahora, aregue este usuario admin desde xampp:
INSERT INTO usuarios (nombre_completo, fecha_nacimiento, foto, genero, pais, nacionalidad, correo, password, rol)
VALUES ('Admin Principal', '1990-01-01', NULL, 'prefiero_no_decir', 'México', 'Mexicana', 'admin@universofutbolero.com', 'admin123', 'admin');


los html ya los hice a php y si se pueden ver en xampp, me quede en la parte para empezar a meter datos desde los html. Por cierto, en el codigo donde viene el puerto de la conexion de la base de datos tengo el 3307 porque yo se lo cambie y asi uso en mi xampp asi que si tu no lo cambiaste tendras que modificarlo al 3306 que es el que sale por defecto o caso contrario colocar el ´puerto que le pusiste en caso que lo cambiaras tambien. ya lo demas deberia jalar si lo pruebas.